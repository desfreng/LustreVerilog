node popcount(x: r<N>) returns (cnt: int);
  size N
  where 
    N > 0
  when N <= 1:
    let
      cnt = if x[0] then 1 else 0;
    tel
  otherwise
    let
      cnt = popcount(x[0:N/2]) + popcount(x[N/2:N]);
    tel
